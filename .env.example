# Environment Configuration Template for Momentum Lens ETF Trading System
# Copy this file to .env and update with your actual values

# ==========================================
# Database Configuration
# ==========================================
DB_USER=momentum_user
DB_PASSWORD=momentum_password_change_this
DB_HOST=localhost
DB_PORT=5432
DB_NAME=momentum_lens
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ==========================================
# Redis Configuration
# ==========================================
REDIS_PASSWORD=redis_password_change_this
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==========================================
# Application Security
# ==========================================
SECRET_KEY=your_super_secret_key_change_this_in_production_minimum_32_characters
JWT_SECRET_KEY=jwt_secret_key_change_this_also_minimum_32_characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ==========================================
# API Keys and External Services
# ==========================================
# Market data API key (choose one based on your data source)
MARKET_DATA_API_KEY=your_market_data_api_key_here

# Tushare API token (for Chinese market data)
TUSHARE_TOKEN=your_tushare_token_here

# AkShare doesn't require an API key, but you may need proxy settings
# AKSHARE_PROXY=http://your_proxy_server:port

# Alpha Vantage API key (alternative data source)
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here

# Yahoo Finance (yfinance) doesn't require API key but may need proxy
# YFINANCE_PROXY=http://your_proxy_server:port

# ==========================================
# Application Configuration
# ==========================================
# Environment: development, staging, production
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# Application URLs
BACKEND_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000
REACT_APP_API_URL=http://localhost:8000
REACT_APP_WS_URL=ws://localhost:8000

# CORS settings (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOW_HEADERS=*

# ==========================================
# Trading Configuration
# ==========================================
# Default trading strategy preset
DEFAULT_PRESET=balanced

# Trading execution windows (comma-separated, 24h format)
EXECUTION_WINDOWS=10:30,14:00

# System timezone
TIMEZONE=Asia/Shanghai

# Risk management settings
MAX_POSITION_SIZE=0.10
MAX_DAILY_TRADES=20
STOP_LOSS_THRESHOLD=0.05
PROFIT_TAKING_THRESHOLD=0.15

# Momentum signal thresholds
MOMENTUM_BUY_THRESHOLD=0.7
MOMENTUM_SELL_THRESHOLD=0.3
MOMENTUM_HOLD_MIN=0.4
MOMENTUM_HOLD_MAX=0.6

# Commission rates (as decimal, e.g., 0.0003 = 0.03%)
COMMISSION_RATE=0.0003
MIN_COMMISSION=5.0

# ==========================================
# Data Processing Configuration
# ==========================================
# Data refresh intervals (in seconds)
REAL_TIME_DATA_INTERVAL=5
HISTORICAL_DATA_INTERVAL=3600
MOMENTUM_CALCULATION_INTERVAL=300

# Data retention periods (in days)
PRICE_HISTORY_RETENTION=730
SIGNAL_HISTORY_RETENTION=365
LOG_RETENTION=90

# Cache settings
CACHE_PRICE_DATA_TTL=300
CACHE_SIGNAL_DATA_TTL=60
CACHE_CONFIG_TTL=3600

# ==========================================
# Monitoring and Alerting
# ==========================================
# Enable performance monitoring
ENABLE_MONITORING=true
ENABLE_METRICS=true
METRICS_PORT=9090

# Email notifications (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
EMAIL_FROM=your_email@gmail.com
ALERT_EMAIL=alerts@yourdomain.com

# Webhook notifications (optional)
WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your/discord/webhook

# ==========================================
# Docker Configuration
# ==========================================
# Docker build environment
BUILD_ENV=production

# Service ports
BACKEND_PORT=8000
FRONTEND_PORT=3000
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ==========================================
# SSL/TLS Configuration (Production)
# ==========================================
# SSL certificate paths (for production nginx)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# Let's Encrypt settings
LETSENCRYPT_EMAIL=your_email@domain.com
DOMAIN_NAME=yourdomain.com

# ==========================================
# Backup Configuration
# ==========================================
# Database backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_DIRECTORY=/app/backups

# Cloud backup settings (optional)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
S3_BACKUP_BUCKET=momentum-lens-backups

# ==========================================
# Development Settings
# ==========================================
# Python development settings
PYTHONPATH=/app
PYTHON_ENV=development

# Node.js development settings
NODE_ENV=development
GENERATE_SOURCEMAP=true
ESLINT_NO_DEV_ERRORS=false

# Hot reload settings
WATCHPACK_POLLING=true
CHOKIDAR_USEPOLLING=true

# ==========================================
# Testing Configuration
# ==========================================
# Test database
TEST_DB_NAME=momentum_lens_test
TEST_DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${TEST_DB_NAME}

# Test settings
TEST_MODE=false
MOCK_MARKET_DATA=false

# ==========================================
# Performance Tuning
# ==========================================
# Database connection pooling
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis connection pooling
REDIS_POOL_SIZE=10
REDIS_CONNECTION_TIMEOUT=5

# Application workers (for production)
WORKERS=4
WORKER_CONNECTIONS=1000

# ==========================================
# Logging Configuration
# ==========================================
# Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=detailed
LOG_FILE=/app/logs/momentum-lens.log
LOG_ROTATION=midnight
LOG_BACKUP_COUNT=7

# Component-specific log levels
DATABASE_LOG_LEVEL=WARNING
HTTP_LOG_LEVEL=INFO
WEBSOCKET_LOG_LEVEL=INFO
TRADING_LOG_LEVEL=INFO

# ==========================================
# Feature Flags
# ==========================================
# Enable/disable major features
ENABLE_TRADING=true
ENABLE_REAL_TIME_DATA=true
ENABLE_BACKTESTING=true
ENABLE_PAPER_TRADING=true
ENABLE_NOTIFICATIONS=true
ENABLE_EXPORT=true

# ==========================================
# Proxy Settings (if behind corporate firewall)
# ==========================================
# HTTP_PROXY=http://proxy.company.com:8080
# HTTPS_PROXY=http://proxy.company.com:8080
# NO_PROXY=localhost,127.0.0.1

# ==========================================
# Advanced Configuration
# ==========================================
# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# Session settings
SESSION_TIMEOUT=3600
SESSION_SECRET=another_secret_key_for_sessions

# File upload limits
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes
ALLOWED_EXTENSIONS=csv,xlsx,json

# WebSocket settings
WS_MAX_CONNECTIONS=100
WS_MESSAGE_MAX_SIZE=65536
WS_PING_INTERVAL=30
WS_PING_TIMEOUT=10