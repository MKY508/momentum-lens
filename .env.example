# Momentum Lens 环境配置示例
# 复制此文件为 .env 并根据实际情况修改

# ========== 前端配置 ==========
REACT_APP_API_URL=http://localhost:8000
REACT_APP_WS_URL=ws://localhost:8000/ws

# ========== 后端配置 ==========
# 运行环境: development/production
ENVIRONMENT=development

# 数据库（轻量级模式使用SQLite）
DATABASE_URL=sqlite:///./data/momentum_lens.db
# 生产环境使用PostgreSQL
# DATABASE_URL=postgresql://user:password@localhost:5432/momentum_lens

# Redis缓存（可选）
REDIS_URL=redis://localhost:6379/0

# ========== 安全配置 ==========
# JWT密钥（生产环境必须更改）
JWT_SECRET_KEY=your-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# API限流
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# CORS配置
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ========== 策略参数 ==========
# 默认市场模式: aggressive/balanced/conservative
DEFAULT_MARKET_MODE=balanced

# 动量公式权重（固定值，不可修改）
MOMENTUM_WEIGHT_60D=0.6
MOMENTUM_WEIGHT_120D=0.4

# 执行窗口（24小时制）
EXECUTION_WINDOW_1=10:30
EXECUTION_WINDOW_2=14:00

# ========== 风险控制 ==========
# 默认止损线（-12%）
DEFAULT_STOP_LOSS=-0.12

# 缓冲区（3%）
DEFAULT_BUFFER_ZONE=0.03

# 最短持有天数
MIN_HOLDING_DAYS=14

# 最大持仓腿数
MAX_LEGS=2

# ========== 防频繁交易 ==========
# 最小分数改善要求（2%）
MIN_SCORE_IMPROVEMENT=0.02

# 每周最大轮换次数
MAX_WEEKLY_ROTATIONS=2

# 轮换冷却期（天）
ROTATION_COOLDOWN_DAYS=7

# ========== 市场判断阈值 ==========
# MA200确认天数
MA200_CONFIRMATION_DAYS=5

# 突破MA200幅度要求（1%）
MA200_BREAKOUT_PCT=1.0

# CHOP带宽范围（±3%）
CHOP_BAND_RANGE=0.03

# CHOP带内天数阈值
CHOP_BAND_DAYS=10

# ATR/价格比率阈值（3.5%）
CHOP_ATR_RATIO=0.035

# ========== 相关性检查 ==========
# 最大相关系数
MAX_CORRELATION=0.8

# 相关性计算天数
CORRELATION_LOOKBACK_DAYS=90

# ========== QDII特殊配置 ==========
# QDII溢价限制（2%买入）
QDII_PREMIUM_LIMIT=0.02

# QDII溢价暂停（3%停止）
QDII_PREMIUM_STOP=0.03

# ========== 数据源配置 ==========
# 主数据源: akshare/tushare/eastmoney
PRIMARY_DATA_SOURCE=akshare

# 启用数据源
AKSHARE_ENABLED=true
SINA_ENABLED=true
EASTMONEY_ENABLED=true
YAHOO_ENABLED=false

# API密钥（付费数据源）
TUSHARE_TOKEN=
EASTMONEY_APPKEY=

# 数据缓存时间（秒）
CACHE_TTL=300

# ========== 日志配置 ==========
# 日志级别: DEBUG/INFO/WARNING/ERROR
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=./logs/momentum_lens.log

# ========== 监控配置 ==========
# 启用性能监控
ENABLE_METRICS=false

# Prometheus指标端口
METRICS_PORT=9090

# 健康检查路径
HEALTH_CHECK_PATH=/health

# ========== 通知配置（可选） ==========
# 邮件通知
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
NOTIFICATION_EMAIL=

# 企业微信Webhook（可选）
WECHAT_WEBHOOK_URL=